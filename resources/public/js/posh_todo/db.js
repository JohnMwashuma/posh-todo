// Compiled by ClojureScript 1.7.170 {}
goog.provide('posh_todo.db');
goog.require('cljs.core');
goog.require('datascript.core');
goog.require('posh_todo.util');
posh_todo.db.schema = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("task","category","task/category",-597104427),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","valueType","db/valueType",1827971944),new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079)], null),new cljs.core.Keyword("category","todo","category/todo",-895201156),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","valueType","db/valueType",1827971944),new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079)], null),new cljs.core.Keyword("todo","display-category","todo/display-category",-158855546),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","valueType","db/valueType",1827971944),new cljs.core.Keyword("db.type","ref","db.type/ref",-1728373079)], null),new cljs.core.Keyword("action","editing","action/editing",1990935871),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword("db","cardinality","db/cardinality",-104975659),new cljs.core.Keyword("db.cardinality","many","db.cardinality/many",772806234)], null)], null);
posh_todo.db.conn = datascript.core.create_conn.call(null,posh_todo.db.schema);
posh_todo.db.populate_BANG_ = (function posh_todo$db$populate_BANG_(conn){
var todo_id = posh_todo.util.new_entity_BANG_.call(null,conn,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("todo","name","todo/name",1848785027),"Matt's List",new cljs.core.Keyword("todo","listing","todo/listing",85796127),new cljs.core.Keyword(null,"all","all",892129742)], null));
var at_home = posh_todo.util.new_entity_BANG_.call(null,conn,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("category","name","category/name",1793490219),"At Home",new cljs.core.Keyword("category","todo","category/todo",-895201156),todo_id], null));
var work_stuff = posh_todo.util.new_entity_BANG_.call(null,conn,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("category","name","category/name",1793490219),"Work Stuff",new cljs.core.Keyword("category","todo","category/todo",-895201156),todo_id], null));
var hobby = posh_todo.util.new_entity_BANG_.call(null,conn,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword("category","name","category/name",1793490219),"Hobby",new cljs.core.Keyword("category","todo","category/todo",-895201156),todo_id], null));
return datascript.core.transact_BANG_.call(null,conn,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("db","id","db/id",-1388397098),posh_todo.util.tempid.call(null),new cljs.core.Keyword("task","name","task/name",1848772036),"Clean Dishes",new cljs.core.Keyword("task","done","task/done",-886317915),true,new cljs.core.Keyword("task","category","task/category",-597104427),at_home], null),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("db","id","db/id",-1388397098),posh_todo.util.tempid.call(null),new cljs.core.Keyword("task","name","task/name",1848772036),"Mop Floors",new cljs.core.Keyword("task","done","task/done",-886317915),true,new cljs.core.Keyword("task","pinned","task/pinned",-1211221984),true,new cljs.core.Keyword("task","category","task/category",-597104427),at_home], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("db","id","db/id",-1388397098),posh_todo.util.tempid.call(null),new cljs.core.Keyword("task","name","task/name",1848772036),"Draw a picture of a cat",new cljs.core.Keyword("task","done","task/done",-886317915),false,new cljs.core.Keyword("task","category","task/category",-597104427),hobby], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword("db","id","db/id",-1388397098),posh_todo.util.tempid.call(null),new cljs.core.Keyword("task","name","task/name",1848772036),"Compose opera",new cljs.core.Keyword("task","done","task/done",-886317915),true,new cljs.core.Keyword("task","category","task/category",-597104427),hobby], null),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword("db","id","db/id",-1388397098),posh_todo.util.tempid.call(null),new cljs.core.Keyword("task","name","task/name",1848772036),"stock market library",new cljs.core.Keyword("task","done","task/done",-886317915),false,new cljs.core.Keyword("task","pinned","task/pinned",-1211221984),true,new cljs.core.Keyword("task","category","task/category",-597104427),work_stuff], null)], null));
});

//# sourceMappingURL=db.js.map